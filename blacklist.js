/* LISTA COMPLETA DE INSTITUCIONES BLACKLIST - NO POSTULAR */

const INSTITUCIONES_BLACKLIST = [
  // Alcaldías y Cementerios
  'ALCALDIA',
  'CEMENTERIO GENERAL',
  'CEMENTERIO METROPOLITANO',
  
  // Instituciones Financieras y Cajas
  'CAJA LOS ANDES',
  
  // Empresas y Corporaciones Públicas
  'CHILEALIMENTOS',
  'CODELCO',
  'EMPRESA DE SERVICIOS SANITARIOS DE LOS LAGOS',
  'ESSBIO',
  'FAMAE',
  
  // Servicios de Salud
  'COMPIN',
  'FONASA',
  'FONASA RM ORIENTE',
  'FONASA RM PONIENTE', 
  'FONASA RM SUR',
  'FONASA RM SUR ORIENTE',
  
  // Hospitales
  'HOSPITAL BARROS LUCO TRUDEAU',
  'HOSPITAL BASE VALDIVIA',
  'HOSPITAL CLINICO SAN BORJA ARRIARAN',
  'HOSPITAL DE CARABINEROS',
  'HOSPITAL DE NIÑOS ROBERTO DEL RIO',
  'HOSPITAL DEL SALVADOR',
  'HOSPITAL DR ERNESTO TORRES GALDAMES',
  'HOSPITAL EL PINO',
  'HOSPITAL EL SALVADOR',
  'HOSPITAL PADRE HURTADO',
  'HOSPITAL PSIQUIATRICO DR PHILIPPE PINEL',
  'HOSPITAL SAN JOSE',
  
  // Organismos de Gobierno
  'DEFENSORIA PENAL PUBLICA',
  'DIRECCION DE COMPRAS Y CONTRATACION PUBLICA',
  'DIRECCION NACIONAL DEL SERVICIO CIVIL',
  'FONDO SOLIDARIO DE INVERSION SOCIAL',
  'GENDARMERIA DE CHILE',
  
  // Gobiernos Regionales
  'GOBIERNO REGIONAL REGION DE COQUIMBO',
  'GOBIERNO REGIONAL REGION DE VALPARAISO',
  'GOBIERNO REGIONAL REGION DEL BIO BIO',
  'GOBIERNO REGIONAL REGION DEL LIBERTADOR BERNARDO OHIGGINS',
  'GOBIERNO REGIONAL REGION DEL MAULE',
  'GOBIERNO REGIONAL REGION METROPOLITANA DE SANTIAGO',

  
  // Fundaciones y Otras Organizaciones
  'FUNDACION EDUCACIONAL COLEGIO EXCELSIOR CHILE',
  'HOGAR DE CRISTO',
  
  // Municipalidades (Lista Completa)
  'I MUNICIPALIDAD DE ALTO HOSPICIO',
  'I MUNICIPALIDAD DE ANCUD',
  'I MUNICIPALIDAD DE ARAUCO',
  'I MUNICIPALIDAD DE ARICA',
  'I MUNICIPALIDAD DE BUIN',
  'I MUNICIPALIDAD DE BULNES',
  'I MUNICIPALIDAD DE CABRERO',
  'I MUNICIPALIDAD DE CALAMA',
  'I MUNICIPALIDAD DE CALERA',
  'I MUNICIPALIDAD DE CALLE LARGA',
  'I MUNICIPALIDAD DE CANETE',
  'I MUNICIPALIDAD DE CASABLANCA',
  'I MUNICIPALIDAD DE CASTRO',
  'I MUNICIPALIDAD DE CAUQUENES',
  'I MUNICIPALIDAD DE CERRILLOS',
  'I MUNICIPALIDAD DE CERRO NAVIA',
  'I MUNICIPALIDAD DE CHIGUAYANTE',
  'I MUNICIPALIDAD DE CHILLAN',
  'I MUNICIPALIDAD DE CHILLAN VIEJO',
  'I MUNICIPALIDAD DE CHIMBARONGO',
  'I MUNICIPALIDAD DE CHOL CHOL',
  'I MUNICIPALIDAD DE COCHRANE',
  'I MUNICIPALIDAD DE COINCO',
  'I MUNICIPALIDAD DE COLBUN',
  'I MUNICIPALIDAD DE COLINA',
  'I MUNICIPALIDAD DE CONCHALI',
  'I MUNICIPALIDAD DE CONCEPCION',
  'I MUNICIPALIDAD DE CONSTITUCION',
  'I MUNICIPALIDAD DE COPIACO',
  'I MUNICIPALIDAD DE COQUIMBO',
  'I MUNICIPALIDAD DE CORONEL',
  'I MUNICIPALIDAD DE CORRAL',
  'I MUNICIPALIDAD DE COYHAIQUE',
  'I MUNICIPALIDAD DE CURACAUTIN',
  'I MUNICIPALIDAD DE CURACAVI',
  'I MUNICIPALIDAD DE CURANILAHUE',
  'I MUNICIPALIDAD DE CURICO',
  'I MUNICIPALIDAD DE DALCAHUE',
  'I MUNICIPALIDAD DE DICHATO',
  'I MUNICIPALIDAD DE EL BOSQUE',
  'I MUNICIPALIDAD DE EL CARMEN',
  'I MUNICIPALIDAD DE EL QUISCO',
  'I MUNICIPALIDAD DE ESTACION CENTRAL',
  'I MUNICIPALIDAD DE FLORIDA',
  'I MUNICIPALIDAD DE FREIRE',
  'I MUNICIPALIDAD DE FREIRINA',
  'I MUNICIPALIDAD DE FRESIA',
  'I MUNICIPALIDAD DE GALVARINO',
  'I MUNICIPALIDAD DE GRANEROS',
  'I MUNICIPALIDAD DE GORBEA',

  'I MUNICIPALIDAD DE HIJUELAS',
  'I MUNICIPALIDAD DE HUALAIHUE',
  'I MUNICIPALIDAD DE HUALPEN',
  'I MUNICIPALIDAD DE HUALQUI',
  'I MUNICIPALIDAD DE HUASCO',
  'I MUNICIPALIDAD DE HUECHURABA',
  'I MUNICIPALIDAD DE ILLAPEL',
  'I MUNICIPALIDAD DE INDEPENDENCIA',
  'I MUNICIPALIDAD DE IQUIQUE',
  'I MUNICIPALIDAD DE ISLA DE MAIPO',
  'I MUNICIPALIDAD DE LA CISTERNA',
  'I MUNICIPALIDAD DE LA CRUZ',
  'I MUNICIPALIDAD DE LA ESTRELLA',
  'I MUNICIPALIDAD DE LA FLORIDA',
  'I MUNICIPALIDAD DE LA GRANJA',
  'I MUNICIPALIDAD DE LA LIGUA',
  'I MUNICIPALIDAD DE LA PINTANA',
  'I MUNICIPALIDAD DE LA REINA',
  'I MUNICIPALIDAD DE LA SERENA',
  'I MUNICIPALIDAD DE LA UNION',
  'I MUNICIPALIDAD DE LAJA',
  'I MUNICIPALIDAD DE LAMPA',
  'I MUNICIPALIDAD DE LANCO',
  'I MUNICIPALIDAD DE LAS CABRAS',
  'I MUNICIPALIDAD DE LAS CONDES',
  'I MUNICIPALIDAD DE LEBU',
  'I MUNICIPALIDAD DE LIMACHE',
  'I MUNICIPALIDAD DE LINARES',
  'I MUNICIPALIDAD DE LO BARNECHEA',
  'I MUNICIPALIDAD DE LO ESPEJO',
  'I MUNICIPALIDAD DE LO PRADO',
  'I MUNICIPALIDAD DE LOLOL',
  'I MUNICIPALIDAD DE LONCOCHE',
  'I MUNICIPALIDAD DE LOS ALAMOS',
  'I MUNICIPALIDAD DE LOS ANDES',
  'I MUNICIPALIDAD DE LOS ANGELES',
  'I MUNICIPALIDAD DE LOS LAGOS',
  'I MUNICIPALIDAD DE LOS VILOS',
  'I MUNICIPALIDAD DE LOTA',
  'I MUNICIPALIDAD DE LUMACO',
  'I MUNICIPALIDAD DE MACHALI',
  'I MUNICIPALIDAD DE MACUL',
  'I MUNICIPALIDAD DE MAIPU',
  'I MUNICIPALIDAD DE MARCHIHUE',
  'I MUNICIPALIDAD DE MARIA PINTO',
  'I MUNICIPALIDAD DE MEJILLONES',
  'I MUNICIPALIDAD DE MELIPILLA',
  'I MUNICIPALIDAD DE MOLINA',
  'I MUNICIPALIDAD DE MULCHEN',
  'I MUNICIPALIDAD DE NACIMIENTO',
  'I MUNICIPALIDAD DE NANCAGUA',
  'I MUNICIPALIDAD DE NATALES',
  'I MUNICIPALIDAD DE NEGRETE',
  'I MUNICIPALIDAD DE NINHUE',
  'I MUNICIPALIDAD DE NUNOA',

  'I MUNICIPALIDAD DE OSORNO',
  'I MUNICIPALIDAD DE OVALLE',
  'I MUNICIPALIDAD DE PADRE HURTADO',
  'I MUNICIPALIDAD DE PADRE LAS CASAS',
  'I MUNICIPALIDAD DE PAIHUANO',
  'I MUNICIPALIDAD DE PAINE',
  'I MUNICIPALIDAD DE PALMILLA',
  'I MUNICIPALIDAD DE PANGUIPULLI',
  'I MUNICIPALIDAD DE PANQUEHUE',
  'I MUNICIPALIDAD DE PARRAL',
  'I MUNICIPALIDAD DE PEDRO AGUIRRE CERDA',
  'I MUNICIPALIDAD DE PEMUCO',
  'I MUNICIPALIDAD DE PENALOLEN',
  'I MUNICIPALIDAD DE PENCAHUE',
  'I MUNICIPALIDAD DE PENCO',
  'I MUNICIPALIDAD DE PERALILLO',
  'I MUNICIPALIDAD DE PETORCA',
  'I MUNICIPALIDAD DE PEUMO',
  'I MUNICIPALIDAD DE PICA',
  'I MUNICIPALIDAD DE PICHIDEGUA',
  'I MUNICIPALIDAD DE PICHILEMU',
  'I MUNICIPALIDAD DE PIEDRA BLANCA',
  'I MUNICIPALIDAD DE PINTO',
  'I MUNICIPALIDAD DE PIRQUE',
  'I MUNICIPALIDAD DE PLACILLA',
  'I MUNICIPALIDAD DE PORTEZUELO',
  'I MUNICIPALIDAD DE PORVENIR',
  'I MUNICIPALIDAD DE POZO ALMONTE',
  'I MUNICIPALIDAD DE PROVIDENCIA',
  'I MUNICIPALIDAD DE PUCHUNCAVI',
  'I MUNICIPALIDAD DE PUCON',
  'I MUNICIPALIDAD DE PUDAHUEL',
  'I MUNICIPALIDAD DE PUENTE ALTO',
  'I MUNICIPALIDAD DE PUERTO MONTT',
  'I MUNICIPALIDAD DE PUERTO NATALES',
  'I MUNICIPALIDAD DE PUERTO OCTAY',
  'I MUNICIPALIDAD DE PUERTO VARAS',
  'I MUNICIPALIDAD DE PUMANQUE',
  'I MUNICIPALIDAD DE PUNTA ARENAS',
  'I MUNICIPALIDAD DE PUQUELDON',
  'I MUNICIPALIDAD DE PUREN',
  'I MUNICIPALIDAD DE PURRANQUE',
  'I MUNICIPALIDAD DE PUTAENDO',
  'I MUNICIPALIDAD DE PUTRE',
  'I MUNICIPALIDAD DE PUYEHUE',
  'I MUNICIPALIDAD DE QUELLON',
  'I MUNICIPALIDAD DE QUEMCHI',
  'I MUNICIPALIDAD DE QUILACO',
  'I MUNICIPALIDAD DE QUILICURA',
  'I MUNICIPALIDAD DE QUILLECO',
  'I MUNICIPALIDAD DE QUILLON',
  'I MUNICIPALIDAD DE QUILLOTA',
  'I MUNICIPALIDAD DE QUILPUE',
  'I MUNICIPALIDAD DE QUINCHAO',
  'I MUNICIPALIDAD DE QUINTA DE TILCOCO',
  'I MUNICIPALIDAD DE QUINTA NORMAL',

  'I MUNICIPALIDAD DE QUINTERO',
  'I MUNICIPALIDAD DE QUIRIHUE',
  'I MUNICIPALIDAD DE RANCAGUA',
  'I MUNICIPALIDAD DE RANQUIL',
  'I MUNICIPALIDAD DE RAUCO',
  'I MUNICIPALIDAD DE RECOLETA',
  'I MUNICIPALIDAD DE RENAICO',
  'I MUNICIPALIDAD DE RENCA',
  'I MUNICIPALIDAD DE RENGO',
  'I MUNICIPALIDAD DE REQUINOA',
  'I MUNICIPALIDAD DE RETIRO',
  'I MUNICIPALIDAD DE RINCONADA',
  'I MUNICIPALIDAD DE RIO BUENO',
  'I MUNICIPALIDAD DE RIO CLARO',
  'I MUNICIPALIDAD DE RIO HURTADO',
  'I MUNICIPALIDAD DE RIO IBANEZ',
  'I MUNICIPALIDAD DE RIO NEGRO',
  'I MUNICIPALIDAD DE ROMERAL',
  'I MUNICIPALIDAD DE SAAVEDRA',
  'I MUNICIPALIDAD DE SAGRADA FAMILIA',
  'I MUNICIPALIDAD DE SALAMANCA',
  'I MUNICIPALIDAD DE SAN ANTONIO',
  'I MUNICIPALIDAD DE SAN BERNARDO',
  'I MUNICIPALIDAD DE SAN CARLOS',
  'I MUNICIPALIDAD DE SAN CLEMENTE',
  'I MUNICIPALIDAD DE SAN ESTEBAN',
  'I MUNICIPALIDAD DE SAN FABIAN',
  'I MUNICIPALIDAD DE SAN FELIPE',
  'I MUNICIPALIDAD DE SAN FERNANDO',
  'I MUNICIPALIDAD DE SAN GREGORIO',
  'I MUNICIPALIDAD DE SAN IGNACIO',
  'I MUNICIPALIDAD DE SAN JAVIER',
  'I MUNICIPALIDAD DE SAN JOAQUIN',
  'I MUNICIPALIDAD DE SAN JOSE DE MAIPO',
  'I MUNICIPALIDAD DE SAN JUAN DE LA COSTA',
  'I MUNICIPALIDAD DE SAN MIGUEL',
  'I MUNICIPALIDAD DE SAN NICOLAS',
  'I MUNICIPALIDAD DE SAN PABLO',
  'I MUNICIPALIDAD DE SAN PEDRO',
  'I MUNICIPALIDAD DE SAN PEDRO DE ATACAMA',
  'I MUNICIPALIDAD DE SAN PEDRO DE LA PAZ',
  'I MUNICIPALIDAD DE SAN RAFAEL',
  'I MUNICIPALIDAD DE SAN RAMON',
  'I MUNICIPALIDAD DE SAN ROSENDO',
  'I MUNICIPALIDAD DE SAN VICENTE DE TAGUA TAGUA',
  'I MUNICIPALIDAD DE SANTA BARBARA',
  'I MUNICIPALIDAD DE SANTA CRUZ',
  'I MUNICIPALIDAD DE SANTA JUANA',
  'I MUNICIPALIDAD DE SANTA MARIA',
  'I MUNICIPALIDAD DE SANTIAGO',
  'I MUNICIPALIDAD DE SANTO DOMINGO',
  'I MUNICIPALIDAD DE SIERRA GORDA',
  'I MUNICIPALIDAD DE TALAGANTE',
  'I MUNICIPALIDAD DE TALCA',
  'I MUNICIPALIDAD DE TALCAHUANO',
  'I MUNICIPALIDAD DE TALTAL',

  'I MUNICIPALIDAD DE TEMUCO',
  'I MUNICIPALIDAD DE TENO',
  'I MUNICIPALIDAD DE TEODORO SCHMIDT',
  'I MUNICIPALIDAD DE TIERRA AMARILLA',
  'I MUNICIPALIDAD DE TIL TIL',
  'I MUNICIPALIDAD DE TIMAUKEL',
  'I MUNICIPALIDAD DE TIRUA',
  'I MUNICIPALIDAD DE TOCOPILLA',
  'I MUNICIPALIDAD DE TOLTEN',
  'I MUNICIPALIDAD DE TOME',
  'I MUNICIPALIDAD DE TORRES DEL PAINE',
  'I MUNICIPALIDAD DE TORTEL',
  'I MUNICIPALIDAD DE TRAIGUEN',
  'I MUNICIPALIDAD DE TREHUACO',
  'I MUNICIPALIDAD DE TUCAPEL',
  'I MUNICIPALIDAD DE VALDIVIA',
  'I MUNICIPALIDAD DE VALPARAISO',
  'I MUNICIPALIDAD DE VINA DEL MAR'
];

// Función para verificar si una institución está en blacklist
function estaEnBlacklist(nombreInstitucion) {
  if (!nombreInstitucion) return false;
  
  const nombreNormalizado = nombreInstitucion
    .toUpperCase()
    .normalize('NFD')
    .replace(/[\u0300-\u036f]/g, '')
    .trim();
  
  return INSTITUCIONES_BLACKLIST.some(institucion => {
    return nombreNormalizado.includes(institucion);
  });
}

// Exportar para usar en otros archivos
if (typeof module !== 'undefined' && module.exports) {
  module.exports = { INSTITUCIONES_BLACKLIST, estaEnBlacklist };
}
